<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Off Canvas Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/offcanvas.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css" rel="stylesheet" />
    <![endif]-->

</head>

<body onload="loadBoards()">
<nav class="navbar navbar-fixed-top navbar-inverse">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">티켓팀 게시판</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a id="about">About</a></li>
                <li><a id="contact">Contact</a></li>
            </ul>
        </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
</nav><!-- /.navbar -->

<div class="container">
    <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-12 col-sm-9">
            <p class="pull-right visible-xs">
                <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
            </p>
            <div class="jumbotron">
                <h1>환영합니다.</h1>
                <p>티켓 게시판에서 자유롭게 글을 작성하고 확인할 수 있습니다. 비밀글 기능이 있어서 자신만의 메모장 처럼 이용할 수도 있습니다.</p>
            </div>
            <div class="row" id="mainContainer">
            </div><!--/row-->
        </div><!--/.col-xs-12.col-sm-9-->

        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
            <div class="list-group">
                <a class="list-group-item active">메뉴</a>
                <a class="list-group-item" id="write" onmouseover="" style="cursor: pointer;">글 쓰기</a>
                <a class="list-group-item" id="showMine" data-toggle="modal" onmouseover="" style="cursor: pointer;">내가 쓴 글 보기</a>
                <a class="list-group-item" id="search" data-toggle="modal" onmouseover="" style="cursor: pointer;">검색하기</a>
                <a class="list-group-item" id="goMain" href='/'>메인으로</a>
            </div>
        </div><!--/.sidebar-offcanvas-->
    </div><!--/row-->
    <hr>

    <footer>
        <p>&copy; Coupang 2016</p>
    </footer>

</div><!--/.container-->


<!-- Modal -->
<div id="getWriter" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">내가 쓴 글 검색하기</h4>
            </div>
            <div class="modal-body">
                <div class="row-fluid">
                    <div class="span6">
                        <h4>작성자 이름:</h4>
                        <p><input id="writer" type="text" class="span12"></p>
                    </div>
                    <div class="span6">
                        <h4>비밀 번호:</h4>
                        <p><input id="password" type="password" class="span12"></p>
                        <h6>비밀번호 입력시 해당 비밀번호로 등록된 나만의 보기 게시글 모두 검색 가능</h6>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn">취소</button>
                <button type="button" class="btn btn-primary" id="search">검색 시작</button>
            </div>
        </div>
    </div>
</div>

<div id="contact_modal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">개발자 프로필</h4>
            </div>
            <div class="modal-body">
                <div class="row-fluid">
                    <div class="span6">
                        <h4>작성자 이름: 조원혁</h4>
                    </div>
                    <div class="span6">
                        <h4>이메일: linus@coupang.com</h4>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn">닫기</button>
            </div>
        </div>
    </div>
</div>

<div id="about_modal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">본 게시판 이용 정보</h4>
            </div>
            <div class="modal-body">
                <div class="row-fluid">
                    <div class="span6">
                        <h4>로그인 없이 자신만의 글 작성 가능! 작성자와 비밀번호를 적고 자기만보기를 선택하시면 자신만의 메모장 처럼 이용 가능하다.
                        Hint! : 비밀번호를 모두 통일시키면 비공개 메모를 한번에 모두 조회 가능!</h4>
                    </div>
                    <div class="span6">
                        <h4>회사 내 공지 사항으로 사용하기 편리 하다.</h4>
                    </div>
                    <div class="span6">
                        <h4>각종 조건들로 검색이 가능하다.</h4>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn">닫기</button>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="http://getbootstrap.com/2.3.2/assets/js/google-code-prettify/prettify.js"></script>

<script src="js/ajaxManager.js"></script>
<script src="js/sha256.js"></script>
<script src="js/bootstrap-modalmanager.js"></script>
<script src="js/bootstrap-modal.js"></script>
<script src="js/loadboards.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/offcanvas.js"></script>
<script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap.js"></script>


<script>
    $('#write').click(function() {
        ajaxManager.addReq({
            url : "/write/",
            type : "GET", // http method
            success : function(view) {
                $("#mainContainer").replaceWith(view);
            },
            error : function(err) {
                alert("error on ajax!");
                // provide a bit more info about the error to the console
            }
        });
    });

    function update(boardSrl){
        ajaxManager.addReq({
            url : "/write/?boardSrl="+boardSrl,
            type : "GET", // http method
            success : function(view) {
                $("#mainContainer").replaceWith(view);
            },
            error : function(err) {
                alert("error on ajax!");
                // provide a bit more info about the error to the console
            }
        });
    }

    function deleteBoard(boardSrl){
        ajaxManager.addReq({
            url : "/write/"+boardSrl,
            type : "DELETE", // http method
            success : function(view) {
                if(view) {
                    alert("게시물이 정상적으로 지워졌습니다.");
                } else {
                    alert("게시물 삭제에 오류가 있습니다.(다른 사람이 이미 삭제 가능)");
                }
                loadBoards();
            },
            error : function(err) {
                alert("error on ajax!");
                // provide a bit more info about the error to the console
            }
        });
    }

    $(function() {
        $('#showMine').click(function() {
            $('#getWriter').modal('show');
        });

        $('#search').click(function() {
            writer = document.getElementById("writer").value;
            password = document.getElementById("password").value;
            ajaxManager.addReq({
                url : "/search/writer",
                type : "POST", // http method
                data : {writer: writer, password: password},
                success : function(view) {
                    $('#getWriter').modal('hide');
                    $("#mainContainer").replaceWith(view);
                },
                error : function(err) {
                    alert("error on ajax!");
                    // provide a bit more info about the error to the console
                }
            });
        });
    });

    function getDetail(boardSrl){
        ajaxManager.addReq({
            url : "/search/srl",
            type : "POST", // http method
            data : {boardSrl: boardSrl},
            success : function(view) {
                $("#mainContainer").replaceWith(view);
            },
            error : function(err) {
                alert("error on ajax!");
                // provide a bit more info about the error to the console
            }
        });

    }

    $('#contact').click(function() {
        $('#contact_modal').modal('show');
    });

    $('#about').click(function() {
        $('#about_modal').modal('show');
    });
</script>
